<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.58a9e24a32614be0f2b4.css">@import url(https://fonts.googleapis.com/css?family=Noto+Serif+JP:400,700,900&display=swap);@import url(https://fonts.googleapis.com/css?family=Noto+Sans+JP:100,400&subset=japanese);.post-link-container{margin:1em 0}.post-link-container a{text-decoration:none}.post-link-title-txt{display:inline-block;margin:.2em 0;font-family:"Noto Serif JP",serif;font-size:2.2em;font-weight:400;color:#000}.post-link-date-txt,.post-link-tag-txt{display:inline-block;margin:0 .2em;color:#555;font-family:Noto Sans JP,sans-serif;font-weight:400;font-size:1.1em}.post-link-date-txt{margin-left:0}.post-link-tag-txt{font-weight:100}.post-link-tag-txt:hover{text-decoration:underline}.post-link-tag-container{display:inline-block}.app-container header{margin:2.5em 0 1em;font-size:1.05em}header a{text-decoration:none;color:#000}.header-title-txt{font-family:"Noto Serif JP",serif;font-weight:900;font-size:3em;margin:0 0 .4em}.category-filter-txt{display:inline-block;border-left:1px solid #000;padding:0 .5em;font-size:1.2em;font-family:Courier New,Courier,Noto Sans JP,monospace;font-weight:100;color:#666}.category-filter-txt.category-selected{color:#000;text-decoration:underline}.category-filter-txt.category-hided{display:none}.header-category-filter-container a:first-child h3{border-left:none;padding-left:0}.post-date-txt,.post-tag-txt{display:inline-block;font-size:1em}.post-tag-txt:hover{text-decoration:underline}.post-tags-container{display:inline-block}.post-content-container header{margin:2.5em 0}@media (max-width:768px){body,html{font-size:12px}}.post-content-container{margin:0 auto;padding:0 1.0875rem 1.45rem;max-width:900px;font-size:1.2em;font-family:"Noto Serif JP",serif}.post-title-txt{margin-bottom:.2em;font-family:"Noto Serif JP",serif;font-weight:400;font-size:2.8em}.post-date-txt,.post-tag-txt{margin:0 .4em;color:#555;font-size:.95em;font-family:Noto Sans JP,sans-serif}.post-date-txt{margin-left:0;font-weight:700}.post-tag-txt{font-weight:100}.post-wrapper{font-size:1.05em;line-height:1.7em}.post-wrapper blockquote{color:#555;font-style:italic}.post-wrapper hr{margin:0 auto 1.45rem;max-width:30%;background-color:#888}.post-wrapper h1,.post-wrapper h2,.post-wrapper h3,.post-wrapper h4,.post-wrapper h5,.post-wrapper h6{font-family:"Noto Serif JP",serif}.post-wrapper a{color:#0d69da;text-decoration:none}.post-wrapper a:hover{text-decoration:underline}.post-wrapper li{margin:0}.post-wrapper code{padding:.2em;color:#333;border-radius:.2em}.post-wrapper code,.post-wrapper pre{background-color:#ddd}.post-wrapper .youtube{margin:auto auto 1.45rem;width:810px;height:455.625px}.post-wrapper .youtube iframe{margin:auto;width:100%;height:100%;border:none}footer{margin-top:4em;font-family:Courier New,Courier,monospace}.footer--link_title{font-family:"Noto Serif JP",sans-serif;font-weight:700;font-size:1.5em;color:#000;text-decoration:none}.footer--link_container:last-of-type{margin:1em 0 0}.footer--link{margin:0;padding:0 .5em;border:solid #000;border-width:0 0 0 1px;text-decoration:none;color:#000;font-size:1em}.footer--link:first-of-type{padding-left:0;margin-left:0;border-left:none}.footer--link:hover{text-decoration:underline}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;background-color:#eee;font-family:"Noto Serif JP",serif;font-size:15.5px}.app-container{margin:0 auto;max-width:900px;padding:0 1.0875rem 1.45rem}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:#000;font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt"}img{max-width:100%;padding:0;margin:0 0 1.45rem}h1{font-size:2.25rem}h1,h2{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{padding:0;margin:0 0 1.45rem;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{padding:0;margin:0 0 1.45rem}ol,ul{padding:0;margin:0 0 1.45rem 1.45rem;list-style-position:outside;list-style-image:none}dd,dl,figure,p{padding:0;margin:0 0 1.45rem}pre{margin:0 0 1.45rem;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}table{font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset,table{padding:0;margin:0 0 1.45rem}blockquote{padding:0;margin:0 1.45rem 1.45rem}form,iframe,noscript{padding:0;margin:0 0 1.45rem}hr{padding:0;margin:0 0 calc(1.45rem - 1px);background:rgba(0,0,0,.2);border:none;height:1px}address{padding:0;margin:0 0 1.45rem}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}@media only screen and (max-width:480px){html{font-size:100%}}@media (max-width:1260px){body,html{font-size:14px}.app-container{max-width:750px}}@media (max-width:768px){body,html{font-size:11px}.app-container{max-width:400px}}@media (max-width:420px){body,html{font-size:9px}.app-container{max-width:360px}}</style><meta name="generator" content="Gatsby 2.19.18"/><title data-react-helmet="true">Unity dev memo (1) | The work is undone.</title><meta data-react-helmet="true" name="description" content="asukachikaru&#x27;s blog."/><meta data-react-helmet="true" property="og:title" content="Unity dev memo (1)"/><meta data-react-helmet="true" property="og:description" content="asukachikaru&#x27;s blog."/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:url" content="https://blog.asukachikaru.com/post/unity-dev-memo-(1)"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="asukachikaru"/><meta data-react-helmet="true" name="twitter:title" content="Unity dev memo (1)"/><meta data-react-helmet="true" name="twitter:description" content="asukachikaru&#x27;s blog."/><link rel="icon" href="/icons/icon-48x48.png?v=d9107bb5832c4c0bf399c3c74632c7b2"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=d9107bb5832c4c0bf399c3c74632c7b2"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=d9107bb5832c4c0bf399c3c74632c7b2"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=d9107bb5832c4c0bf399c3c74632c7b2"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=d9107bb5832c4c0bf399c3c74632c7b2"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=d9107bb5832c4c0bf399c3c74632c7b2"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=d9107bb5832c4c0bf399c3c74632c7b2"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=d9107bb5832c4c0bf399c3c74632c7b2"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=d9107bb5832c4c0bf399c3c74632c7b2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/notosansjp/v25/-F62fjtqLzI2JPCgQBnw7HFYwQgP.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/notosansjp/v25/-F6ofjtqLzI2JPCgQBnw7HFQojgN8lI.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/notosansjp/v25/-F6pfjtqLzI2JPCgQBnw7HFQei0a1Xdg.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/notoserifjp/v7/xn77YHs72GKoTvER4Gn3b5eMZFqJdkkVUg.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/notoserifjp/v7/xn77YHs72GKoTvER4Gn3b5eMZGKLdkkVUg.woff2"/><link rel="preload" as="font" type="font/woff2" crossorigin="anonymous" href="/google-fonts/s/notoserifjp/v7/xn7mYHs72GKoTvER4Gn3b5eMbNmuYw.woff2"/><style type="text/css">@font-face{font-family:'Noto Sans JP';font-style:normal;font-weight:100;src:local('Noto Sans Japanese Thin'),local('NotoSansJapanese-Thin'),url(/google-fonts/s/notosansjp/v25/-F6ofjtqLzI2JPCgQBnw7HFQojgN8lI.woff2) format('woff2'),url(/google-fonts/s/notosansjp/v25/-F6ofjtqLzI2JPCgQBnw7HFQojgN8lQ.woff) format('woff');font-display: swap;}@font-face{font-family:'Noto Sans JP';font-style:normal;font-weight:400;src:local('Noto Sans Japanese Regular'),local('NotoSansJapanese-Regular'),url(/google-fonts/s/notosansjp/v25/-F62fjtqLzI2JPCgQBnw7HFYwQgP.woff2) format('woff2'),url(/google-fonts/s/notosansjp/v25/-F62fjtqLzI2JPCgQBnw7HFYwQgJ.woff) format('woff');font-display: swap;}@font-face{font-family:'Noto Sans JP';font-style:normal;font-weight:700;src:local('Noto Sans Japanese Bold'),local('NotoSansJapanese-Bold'),url(/google-fonts/s/notosansjp/v25/-F6pfjtqLzI2JPCgQBnw7HFQei0a1Xdg.woff2) format('woff2'),url(/google-fonts/s/notosansjp/v25/-F6pfjtqLzI2JPCgQBnw7HFQei0a1Xdm.woff) format('woff');font-display: swap;}@font-face{font-family:'Noto Serif JP';font-style:normal;font-weight:400;src:local('Noto Serif JP'),local('NotoSerifJP-Regular'),url(/google-fonts/s/notoserifjp/v7/xn7mYHs72GKoTvER4Gn3b5eMbNmuYw.woff2) format('woff2'),url(/google-fonts/s/notoserifjp/v7/xn7mYHs72GKoTvER4Gn3b5eMbNmuZQ.woff) format('woff');font-display: swap;}@font-face{font-family:'Noto Serif JP';font-style:normal;font-weight:700;src:local('Noto Serif JP Bold'),local('NotoSerifJP-Bold'),url(/google-fonts/s/notoserifjp/v7/xn77YHs72GKoTvER4Gn3b5eMZGKLdkkVUg.woff2) format('woff2'),url(/google-fonts/s/notoserifjp/v7/xn77YHs72GKoTvER4Gn3b5eMZGKLdkkVVA.woff) format('woff');font-display: swap;}@font-face{font-family:'Noto Serif JP';font-style:normal;font-weight:900;src:local('Noto Serif JP Black'),local('NotoSerifJP-Black'),url(/google-fonts/s/notoserifjp/v7/xn77YHs72GKoTvER4Gn3b5eMZFqJdkkVUg.woff2) format('woff2'),url(/google-fonts/s/notoserifjp/v7/xn77YHs72GKoTvER4Gn3b5eMZFqJdkkVVA.woff) format('woff');font-display: swap;}</style><link as="script" rel="preload" href="/webpack-runtime-c59ddcde0fc06fc2ecf7.js"/><link as="script" rel="preload" href="/app-255b885323bf9f0bff99.js"/><link as="script" rel="preload" href="/styles-55de889ca647a3996baf.js"/><link as="script" rel="preload" href="/commons-b5ec98713e0d62da703f.js"/><link as="script" rel="preload" href="/component---src-templates-post-content-view-js-1d2a27e4c89bc953f217.js"/><link as="fetch" rel="preload" href="/page-data/post/unity-dev-memo-(1)/page-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="post-content-container"><header><h1 class="post-title-txt">Unity dev memo (1)</h1><h3 class="post-date-txt">2020-03-08</h3><div class="post-tags-container"><a href="/tag/unity"><h3 class="post-tag-txt">#Unity</h3></a><a href="/tag/game-design"><h3 class="post-tag-txt">#Game Design</h3></a></div></header><main><div class="post-wrapper"><p>在數年的醞釀以及一時的心血來潮以後，我開始第一次真正投入時間學習 Unity 。至今一週，最大的感想是過往兩年自學程式的經驗惠我良多，但並不是因為程式的概念等，而是在尋找資源，搜尋關鍵字，看文件的速度上，比起兩三年前另一次摸 Unity 的時候有效率太多了。以下是這一週學到的我覺得值得筆記的部分。</p>
<h2>Object movement</h2>
<p>在 Unity ，要讓一個物體移動有三種方式：</p>
<ul>
<li><code>Transform.position</code></li>
<li><code>Rigidbody.AddForce()</code></li>
<li><code>CharacterController.Move()</code></li>
</ul>
<h3>Transform.position</h3>
<p><code>Transform</code> 是每個 gameObject 都有的屬性，掌管了物體的位置 (position)，角度 (rotation) 與大小 (scale) 。這三個屬性都具有 x, y, z 三個子屬性，對 position 你可以使用三維向量 (Vector3) ，對角度可以使用尤拉角 (Eular Angle) 來調整。</p>
<p>使用 <code>Transform.position</code> 調整物體位置的語法像是這樣：</p>
<pre><code>Transform.position = new Vector3(0, 0, 1);
</code></pre>
<p>在這裡，Vector3 裡面的數字都是整個遊戲地圖裡的絕對值，所以如果想基於物體位置進行移動，必須把物體當前位置也輸入進去。</p>
<pre><code>Vector3 objectPos = Transform.position;
Transform.position = new Vector3(objetPos.x, objectPos.y, objectPos.z + 1);
</code></pre>
<p>這樣就能讓物體朝向 Z 方向移動 1 單位。</p>
<p>使用 <code>Transform.position</code> 是強制調整物體位置，有點像是瞬間移動。適合的場合有攝影機等。</p>
<h3>Rigidbody.Addforce</h3>
<p>來看看官方說明手冊的對 Rigidbody 的第一句說明：</p>
<blockquote>
<p>Control of an object's position through physics simulation.</p>
</blockquote>
<p>Rigidbody 是從物理面上控制物體。 <code>AddForce</code> 就是基於一個 Vector3 的角度給予外力。</p>
<pre><code>Rigidbody.AddForce(new Vector3(0, 0, 10));
</code></pre>
<p>這樣就會對該物體施加一股從 Z 方向來的大小為 10 的外力。</p>
<p>由於 Rigidbody 是模擬物理，所以外力大小，物體質量等等都會影響物體最終位移距離。如果外力夠大，物體就會跟落葉一樣被吹飛。適合的場合有破壞場景物件等等。</p>
<h3>CharacterController.Move</h3>
<p>一樣來看看官方手冊的說明：</p>
<blockquote>
<p>A CharacterController allows you to easily do movement constrained by collisions without having to deal with a rigidbody.
A CharacterController is not affected by forces and will only move when you call the Move function. It will then carry out the movement but be constrained by collisions.</p>
</blockquote>
<p>CharacterControll 是專為移動遊戲角色設計的，而不用使用外力或是瞬間移動的方式，能夠直接操控角色的移動。引數一樣是使用 Vector3 調整三個維度的移動幅度。</p>
<pre><code>CharacterController.Move(new Vector3(0, 0, 1));
</code></pre>
<p><code>CharacterController.Move</code> 比起 <code>Rigidbody.AddForce</code> 更加平滑，且會受碰撞影響，比起 <code>Transform.position</code> 更加自然。</p>
<p>另外，值得注意的是有些動畫內建位移，若啟用 Root Motion 即使未使用任何移動函數仍然會移動物體，設計角色移動時必須將此一因素考慮進去。</p>
<h2>Execution Order</h2>
<p>Unity 新增 script 的初始範本都包含兩個函數： <code>Start()</code> 與 <code>Update()</code> 。這兩個函數都是腳本系統的核心之一。</p>
<h3>Start()</h3>
<p>Start 會在 script 啟動後，Update 的第一個 frame 更新前被呼叫。整個腳本生命中只會被呼叫這一次。</p>
<h3>Update()</h3>
<p>Update 會在每一幀 (frame) 都被呼叫一次。玩家指令，角色移動等等都可以在這之中執行循環確認。但每一幀呼叫一次有一個問題，這代表 Update() 的呼叫頻率受客戶端的幀數影響，規格好幀數高呼叫次數就多，規格差呼叫次數就少，這將在玩家之間造成不平衡。</p>
<h3>FixedUpdate()</h3>
<p>FixedUpdate 呼叫次數比 Update 高，且不綁定幀數，如果客戶端幀數低， FixedUpdate 可能在一幀之中呼叫數次，相反地若客戶端幀數高， FixedUpdate 也可能一幀呼叫不到一次。所有物理模擬與運算都會在 FixedUpdate 結束後立刻發生。</p>
<h3>LateUpdate()</h3>
<p>LateUpdate() 會在 Update() 結束後被呼叫，所以也是一幀一次。LateUpdate() 被呼叫時， Update() 的運算已經全數完成。常見的使用場合是計算攝影機位置，能夠保證在角色完成移動後，攝影機才移動到需要的位置。</p>
<h2>Hitbox and hurtbox</h2>
<p>3D 遊戲不可避免的就是 hitbox 與 hurtbox 的計算。這個功能可以使用 <code>Physics.OverlapBox()</code> 達成。這個函數的功用是指定一個中心點與三維距離所建構的立方體，尋找所有進入這個立方體的其他碰撞體 (Collider)。更甚還可以指定 Layer ，將判斷對象限定在特定 Layer 。</p>
<p>首先給想要賦予 Hitbox 的物體，比如說角色的拳頭，增加一個 Collider ，然後勾選 <code>Is Trigger</code> 。這個選項可以讓該 Collider 不會與其他 Collider 造成碰撞與物理位移，而只會偵測碰撞體之間的重疊並依此觸發事件。具體實作如下：</p>
<pre><code>public class AttackController : MonoBehaviour
{
        public Collider Hitbox;
        public int ATK;
        private List&#x3C;GameObject> hitEnemies = new List&#x3C;GameObject>();
            
        void Update()
        {
        DetectAttack(Hitbox);
        }
        
        public void ClearHitEnemyList()
        {
            hitEnemies.Clear();
        }

        void DetectAttack(Collider hitbox)
        {
            Collider[] hurtboxes = Physics.OverlapBox(
                hitbox.bounds.center, // 中心點
                hitbox.bounds.extents, // 三維尺寸
                hitbox.transform.rotation, // 三維角度
                LayerMask.GetMask("{INSERT LAYER NAME}") // 指定對象 layer
            );
            
                // hurtboxed 就是這次攻擊所有被註冊的受攻擊碰撞體
            foreach (Collider hurtbox in hurtboxes)
            {
                GameObject enemy = hurtbox.gameObject;
                if (!hitEnemies.Contains(enemy))
                {
                    hitEnemies.Add(enemy);
                    enemy.doAnythingYouWant(...);
                }
            }
        }
}
</code></pre>
<p>我在這邊已經加入了對同一目標的重複判斷，因為 hitbox 與 hurtbox 在同一次攻擊內也可能重合複數次，使用一個 List 記錄目標並比對每次擊中的目標是否已在本次攻擊的目標列表裡。開始攻擊時呼叫 <code>ClearHitEnemyList</code> 清空列表即可。</p>
<p>最後的 <code>enemy</code> 是受到攻擊的 collider 的父物件本身，如果該物件在受到攻擊時呼叫的腳本在該物件身上，等於要從攻擊角色的 hitbox 腳本呼叫另一個物件的腳本，可以使用 <code>.SendMessageUpwards("{INSERT FUNC NAME}", {INSERT FUNC PARAM})</code> 。這個函數可以向上呼叫該腳本父物件的其他函數。</p></div></main><footer><a class="footer--link_title" href="/">The work is undone.</a><div class="footer--link_container"><a class="footer--link" href="/category/gaming">GAMING</a><a class="footer--link" href="/category/programming">PROGRAMMING</a><a class="footer--link" href="/category/others">OTHERS</a></div><div class="footer--link_container">© <!-- -->2020<!-- --> <a class="footer--link" href="https://asukachikaru.com" target="_blank" rel="noopener noreferrer">asukachikaru.com</a></div></footer></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/post/unity-dev-memo-(1)";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-255b885323bf9f0bff99.js"],"component---src-templates-post-content-view-js":["/component---src-templates-post-content-view-js-1d2a27e4c89bc953f217.js"],"component---src-templates-post-list-view-js":["/component---src-templates-post-list-view-js-6457fcd6814fc02cbe23.js"],"component---src-pages-404-js":["/component---src-pages-404-js-e31eb78f5a76519b5f74.js"],"component---src-pages-index-js":["/component---src-pages-index-js-27839a2630f3ca80975c.js"]};/*]]>*/</script><script src="/component---src-templates-post-content-view-js-1d2a27e4c89bc953f217.js" async=""></script><script src="/commons-b5ec98713e0d62da703f.js" async=""></script><script src="/styles-55de889ca647a3996baf.js" async=""></script><script src="/app-255b885323bf9f0bff99.js" async=""></script><script src="/webpack-runtime-c59ddcde0fc06fc2ecf7.js" async=""></script></body></html>